# oakland interchange:
# http://localhost:8000/#mapzen,37.80975004772091,-122.27886199951173,14

camera:
    type: isometric
    # focal_length: 1
    focal_length: [[16, 2], [17, 2.5], [18, 3], [19, 4], [20, 6]] # pairs of [zoom, focal len]
    vanishing_point: [-.25, -.25] # slightly off-center viewing angle, towards lower-left of screen

    # type: isometric
    # axis: [1, .5]

    # type: flat

lighting:
    type: flat

modes:


layers:
    earth:
        color:
            default: [.4, .4, .4]

    landuse:
        interactive: true
        color:
            default: [0.5, 0.875, 0.5]
            default: [[10, [0.3, 0.4, 0.3]], [14, [0.5, 0.875, 0.5]]]
            pitch: [0.3, 0.675, 0.3]
        # outline:
        #     color:
        #         default: [1, 1, 1]
        #     width:
        #         default: 1

    water:
        interactive: true
        color:
            default: [0.83, 0.83, 0.83]
        outline:
            color:
                default: [.6, .6, .6]
            width:
                default:
                    function () {
                        return (
                            zoom >= 16 &&
                            (feature.kind != 'ocean' && feature.kind != 'riverbank') &&
                            (2.5 * Math.log(zoom))
                        );
                    }

    roads:
        interactive: function () { return (zoom >= 18); }
        # interactive: true
        order: function () { return feature.sort_key * .000025; }
        color:
            default: [1, 1, 1]
            highway: function () { return (
                feature.is_tunnel == "yes" && zoom >= 13 && [.73, .69, .56] ||
                [1.0, .8, .0]) }
            major_road: [[12, [0.8, 0.8, 0.8]], [14, [1, 1, 1]]]
            minor_road: [[15, [0.6, 0.6, 0.6]], [17, [0.8, 0.8, 0.8]]]
            path: [0.8, 0.8, 0.8]
            # rail: [.5, 0, 0]
            debug: [1, 0, 0]
        width:
            default: function () { return 1 * Math.log(zoom); }
            highway: Style.pixels( function() {
                return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
                Utils.interpolate(zoom, [[13, 0], [15, 4], [16, 6], [18, 10]]) ||
                Utils.interpolate(zoom, [[10, 2], [13, 3], [15, 5], [16, 8], [18, 12]]);
                } )
            major_road: [[12, 0px], [14, 2px], [15, 4px], [16, 5px]]
            minor_road: [[13, 0px], [15, 3px], [17, 5px]]
            path: [[12, 0px], [13, 1px], [17, 5px]]
            rail: return 0
            debug: function () { return 5; }

        outline:
            color:
                default: [0., 0., 0.]
                highway: |
                    function() { return (feature.is_tunnel == "yes" && [.5, 0.5, 0.5] || [0., 0., 0.]);
                    }
            width:
                default:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }
                highway: Style.pixels( function() {
                    return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
                    Utils.interpolate(zoom, [[13, 0], [16, 2]]) ||
                    Utils.interpolate(zoom, [[10, 0], [13, 1], [15, 2], [16, 3]]);
                    } )
                major_road: [[10, 0px], [16, 2px]]
                minor_road: [[13, 0px], [18, 1px]]
                path: [[13, 0px], [18, 1px]]
                rail: 0
                debug:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }

    buildings:
        interactive: true
        color:
            default: [.2, .2, .2]
        # extrude:
        #     default: function () { return ((zoom >= 15 && feature.height > 20) || zoom >= 16) }

    pois:
        mode:
            name: points
        filter: function () { return zoom >= 15 && feature.name != null; }
        visible: false
        interactive: true
        color:
            default: [1, 1, 0]
        size:
            default: Style.pixels(5)
