# oakland interchange:
# http://localhost:8000/#mapzen,37.80975004772091,-122.27886199951173,14

camera:
    type: isometric

lighting:
    type: directional

layers:
    earth:
        color:
            default: [.4, .4, .4]

    landuse:
        color:
            default: [0.5, 0.875, 0.5]
            default: [[10, [0.3, 0.4, 0.3]], [14, [0.5, 0.875, 0.5]]]
            pitch: [0.3, 0.675, 0.3]

    water:
        color:
            default: [0.83, 0.83, 0.83]
        outline:
            color:
                default: [.6, .6, .6]
            width:
                default:
                    function () {
                        return (
                            zoom >= 16 &&
                            (feature.kind != 'ocean' && feature.kind != 'riverbank') &&
                            (2.5 * Math.log(zoom))
                        );
                    }

    roads:
        order: function () { return feature.sort_key * .000025; }
        color:
            default: [1, 1, 1]
            highway: function () { return (
                feature.is_tunnel == "yes" && zoom >= 13 && [.73, .69, .56] ||
                [1.0, .8, .0]) }
            major_road: [[12, [0.8, 0.8, 0.8]], [14, [1, 1, 1]]]
            minor_road: [[15, [0.6, 0.6, 0.6]], [17, [0.8, 0.8, 0.8]]]
            path: [0.8, 0.8, 0.8]
            # rail: [.5, 0, 0]
            debug: [1, 0, 0]
        width:
            default: function () { return 1 * Math.log(zoom); }
            highway: Style.pixels( function() {
                return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
                Utils.interpolate(zoom, [[13, 0], [15, 4], [16, 6], [18, 10]]) ||
                Utils.interpolate(zoom, [[10, 2], [13, 3], [15, 5], [16, 8], [18, 12]]);
                } )
            # highway: |
            #     function() {
            #         return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
            #         Utils.interpolate(zoom, [[13, 0px], [15, 4px], [16, 6px], [18, 10px]]) ||
            #         Utils.interpolate(zoom, [[10, 2px], [13, 3px], [15, 5px], [16, 8px], [18, 12px]]);
            #     }
            # highway: function() {
            #     return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
            #     Utils.interpolate(zoom, [[13, 0px], [15, 4px], [16, 6px], [18, 10px]]) ||
            #     Utils.interpolate(zoom, [[10, 2px], [13, 3px], [15, 5px], [16, 8px], [18, 12px]]);
            #     }
            # highway: 10px
            major_road: [[12, 0px], [14, 2px], [15, 4px], [16, 5px]]
            minor_road: [[13, 0px], [15, 3px], [17, 5px]]
            path: [[12, 0px], [13, 1px], [17, 5px]]
            rail: return 0
            debug: function () { return 5; }

        outline:
            color:
                default: [0., 0., 0.]
                highway: |
                    function() { return (feature.is_tunnel == "yes" && [.5, 0.5, 0.5] || [0., 0., 0.]);
                    }
            width:
                default:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }
                highway: Style.pixels( function() {
                    return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
                    Utils.interpolate(zoom, [[13, 0], [16, 2]]) ||
                    Utils.interpolate(zoom, [[10, 0], [13, 1], [15, 2], [16, 3]]);
                    } )
                # highway: function() {
                #     return (feature.is_link == "yes" || feature.is_tunnel == "yes") &&
                #     Utils.interpolate(zoom, [[13, 0px], [16, 2px]]) ||
                #     Utils.interpolate(zoom, [[10, 0px], [13, 1px], [15, 2px], [16, 3px]]);
                #     }
                major_road: [[10, 0px], [16, 2px]]
                minor_road: [[13, 0px], [18, 1px]]
                path: [[13, 0px], [18, 1px]]
                rail: 0

    buildings:
        color:
            default: [.2, .2, .2]
        # extrude:
        #     default: function () { return ((zoom >= 15 && feature.height > 20) || zoom >= 16) }

    pois:
        mode:
            name: points
        # filter: function () { return zoom >= 15 && feature.name != null; }
        visible: true
        color:
            default: [1, 1, 0]
        size:
            default: 5px
