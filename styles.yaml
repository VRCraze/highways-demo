# oakland interchange:
# 37.80975004772091,-122.27886199951173,14

camera:
    type: isometric

lighting:
    type: directional

layers:
    earth:
        color:
            default: [.4, .4, .4]

    landuse:
        color:
            default: [0.5, 0.875, 0.5]
            default: [[10, [0.3, 0.4, 0.3]], [14, [0.5, 0.875, 0.5]]]
            pitch: [0.3, 0.675, 0.3]

    water:
        color:
            default: [0.83, 0.83, 0.83]
        outline:
            color:
                default: [.6, .6, .6]
            width:
                default:
                    function () {
                        return (
                            zoom >= 16 &&
                            (feature.kind != 'ocean' && feature.kind != 'riverbank') &&
                            (2.5 * Math.log(zoom))
                        );
                    }

    roads:
        interactive: true
        order: function () { return (zoom >= 13 && feature.sort_key * .000025) || zoom < 13 && feature.kind != 'highway' && feature.sort_key * .000025 || zoom < 13 && feature.kind == 'highway' && 1000000; }
        # order: |
        #     function () {
        #         return Math.min(Math.max(feature.sort_key * .000025, -1), 1);
        #     }
        color:
            default: [1, 1, 1]
            highway: function () { return (
                feature.is_tunnel == "yes" && zoom >= 13 && [0.6, 0.6, 0.5] ||
                feature.is_link == "yes" && [0.65882, 0.65882, 0.50196] ||
                    [1.0, .8, .0]) }
            major_road: [[13, [0.8, 0.8, 0.8]], [17, [1, 1, 1]]]
            minor_road: [[15, [0.6, 0.6, 0.6]], [17, [0.8, 0.8, 0.8]]]
            path: [0.8, 0.8, 0.8]
            # rail: [.5, 0, 0]
            debug: [1, 0, 0]
        width:
            default: function () { return 1 * Math.log(zoom); }
            highway: function () { return (feature.is_link == "yes" && [[13, "0px"], [14, "3px"], [16, "5px"], [18, "10px"]]) || [[10, "2px"], [13, "3px"], [15, "4px"], [16, "8px"], [18, "20px"]];
                }
                # strings must have quotes inside a function 
            major_road: [[9, 0px], [14, 1.5px], [15, 2.5px], [16, 4px], [17, 7px], [18, 15px]]
            minor_road: [[10, 0px], [12, .25px], [13, .5px], [15, 3px], [17, 5px]]
            path: [[15, "0px"], [16, 2px], [17, 3px], [18, 5px]]
            rail: return 0
            debug: function () { return 5; }

        outline:
            color:
                default: [0., 0., 0.]
                highway: function() { return (feature.is_link == "yes" || feature.is_tunnel == "yes") && zoom >= 13 && [.3, .3, .3] || [0., 0., 0.];
                    }
            width:
                default:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }
                highway: function() { return feature.is_link == "yes" &&
                    [[13, "0px"], [14, ".5px"], [18, "1.5px"]] ||
                    [[9, ".25px"], [13, "1px"], [18, "3px"]]; }
                major_road: [[10, 0px], [16, 1px]]
                minor_road: [[13, 0px], [18, 1px]]
                path: [[15, 0px], [16, .5px]]
                rail: 0

    buildings:
        color:
            default: [.3, .3, .3]
        # extrude:
        #     default: function () { return ((zoom >= 15 && feature.height > 20) || zoom >= 16) }


    pois:
        mode:
            name: points
        filter: function () { return zoom >= 15 && feature.name != null; }
        visible: false
        color:
            default: [1, 1, 0]
        size:
            default: 5px
